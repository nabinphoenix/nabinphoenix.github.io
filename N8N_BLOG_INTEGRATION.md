# n8n Blog Integration Guide

## ‚úÖ What's Been Done

1. **Added "Blog" to Navigation Bar** - Blog is now the first item in your navigation menu
2. **Blog System Already Set Up** - Your blog system is fully functional and ready to receive HTML content from n8n

## üìã Blog System Overview

Your blog system is already configured to:
- Accept HTML content via POST API
- Display blog posts on `/blog` page
- Show individual blog posts at `/blog/[slug]`
- Render HTML content with proper styling (dark mode support included)

## üîß How to Use with n8n Workflow

### API Endpoint
```
POST http://localhost:3000/api/blog/create
```

For production:
```
POST https://nabinnepali.com.np/api/blog/create
```

### Request Format

**Headers:**
```json
{
  "Content-Type": "application/json"
}
```

**Body:**
```json
{
  "title": "Your Blog Title",
  "slug": "your-blog-slug",
  "content": "<h2>Your HTML Content</h2><p>This is a paragraph.</p>"
}
```

### n8n HTTP Request Node Configuration

1. **Method:** POST
2. **URL:** `http://localhost:3000/api/blog/create` (or your production URL)
3. **Body Content Type:** JSON
4. **Body Parameters:**
   ```json
   {
     "title": "{{ $json.title }}",
     "slug": "{{ $json.slug }}",
     "content": "{{ $json.content }}"
   }
   ```

### Important Notes for HTML Content

‚úÖ **Your blog system supports full HTML**, including:
- Headings (`<h1>`, `<h2>`, etc.)
- Paragraphs (`<p>`)
- Lists (`<ul>`, `<ol>`, `<li>`)
- Links (`<a>`)
- Images (`<img>`)
- Code blocks (`<pre>`, `<code>`)
- Bold/Italic (`<strong>`, `<em>`)
- And any other HTML tags

‚úÖ **Styling is automatic** - The blog page uses Tailwind's prose classes for beautiful typography

‚úÖ **Dark mode support** - All blog content automatically adapts to dark/light theme

## üìù Example n8n Workflow

Here's a complete example workflow:

### Step 1: Generate HTML Content
Use your n8n workflow to generate HTML content (e.g., from AI, markdown conversion, etc.)

### Step 2: HTTP Request Node
Configure as follows:

**Node Settings:**
- **Method:** POST
- **URL:** `http://localhost:3000/api/blog/create`
- **Authentication:** None (add later for production)
- **Send Body:** Yes
- **Body Content Type:** JSON

**Body:**
```json
{
  "title": "{{ $json.blogTitle }}",
  "slug": "{{ $json.blogSlug }}",
  "content": "{{ $json.htmlContent }}"
}
```

### Step 3: Success Response
You'll receive:
```json
{
  "message": "Blog post created successfully",
  "post": {
    "id": 2,
    "title": "Your Blog Title",
    "slug": "your-blog-slug",
    "content": "<h2>Your HTML Content</h2>...",
    "date": "2025-11-24T12:43:35+05:45"
  }
}
```

## üß™ Testing Your Setup

### Test 1: View Blog Page
Navigate to: `http://localhost:3000/blog`

You should see the blog listing page with any existing posts.

### Test 2: Create a Test Blog Post

**Using PowerShell:**
```powershell
$body = @{
    title = "Test Blog from n8n"
    slug = "test-blog-from-n8n"
    content = @"
<h2>Hello from n8n!</h2>
<p>This is a test blog post created via the API.</p>
<h3>Features</h3>
<ul>
  <li>HTML support</li>
  <li>Dark mode</li>
  <li>Responsive design</li>
</ul>
<p>This content was generated by my n8n workflow!</p>
"@
} | ConvertTo-Json

Invoke-RestMethod -Uri "http://localhost:3000/api/blog/create" -Method Post -Body $body -ContentType "application/json"
```

**Using cURL:**
```bash
curl -X POST http://localhost:3000/api/blog/create \
  -H "Content-Type: application/json" \
  -d '{
    "title": "Test Blog from n8n",
    "slug": "test-blog-from-n8n",
    "content": "<h2>Hello from n8n!</h2><p>This is a test blog post.</p>"
  }'
```

### Test 3: View Your New Post
Navigate to: `http://localhost:3000/blog/test-blog-from-n8n`

## üìÅ File Storage

Blogs are stored in: `data/blogs.json`

Each blog post has this structure:
```typescript
{
  id: number;        // Auto-generated
  title: string;     // Blog title
  slug: string;      // URL slug (must be unique)
  content: string;   // HTML content
  date: string;      // ISO 8601 timestamp
}
```

## üöÄ Production Deployment Notes

‚ö†Ô∏è **Important:** The current file-based storage works in development but **NOT in serverless environments** (Vercel, Netlify, etc.)

For production, you'll need to:
1. Add authentication to the API endpoint
2. Migrate to a database (MongoDB, PostgreSQL, etc.) OR
3. Use a headless CMS (Contentful, Sanity, etc.)

## üé® Blog Page Features

Your blog pages include:
- ‚úÖ Responsive design
- ‚úÖ Dark mode support
- ‚úÖ Beautiful typography with Tailwind prose
- ‚úÖ Hover effects and animations
- ‚úÖ SEO-friendly URLs
- ‚úÖ Automatic date formatting
- ‚úÖ Content preview on listing page
- ‚úÖ Back navigation
- ‚úÖ Mobile-friendly

## üîó Navigation

The "Blog" link has been added as the **first item** in your navigation bar, appearing before:
- Home
- About
- Projects
- Skills
- Contact

## üìñ Additional Resources

For more details, see: `BLOG_SYSTEM.md`

---

**Last Updated:** 2025-11-25
**Status:** ‚úÖ Ready to use with n8n
